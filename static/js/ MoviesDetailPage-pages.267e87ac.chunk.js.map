{"version":3,"sources":["services/fetchApi.js","styles/module/Reviews.module.css","styles/module/MoviesDetailPage.module.css","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","components/Reviews.jsx","components/Cast.jsx","pages/MoviesDetailPage.jsx"],"names":["API_KEY","BASE_URL","getTrendingFilms","a","axios","method","url","resp","getFilmById","id","getFilmsByQuery","query","getCastInfo","get","getReviewsInfo","module","exports","_arrayLikeToArray","arr","len","length","i","arr2","Array","_slicedToArray","isArray","Symbol","iterator","Object","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","value","err","o","minLen","n","prototype","toString","call","slice","constructor","name","from","test","TypeError","Reviews","history","useHistory","useState","reviews","setReviews","useEffect","location","state","then","data","results","mapReviews","map","author","content","author_details","img","avatar_path","includes","className","styles","item","box","src","alt","noReviews","container","title","Cast","cast","setCast","mapCast","profile_path","noCast","list","MoviesDetailPage","film","handleGoBack","props","this","response","setState","match","button","type","onClick","poster_path","style","width","heigth","overview","more","t","to","pathname","routes","path","component","Component"],"mappings":"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","file":"static/js/ MoviesDetailPage-pages.267e87ac.chunk.js","sourcesContent":["import axios from 'axios';\n\nconst API_KEY = '465ec2c2104ee0fc99609fab2f518357';\nconst BASE_URL = 'https://api.themoviedb.org/3';\n\nasync function getTrendingFilms() {\n  const resp = await axios({\n    method: 'GET',\n    url: `${BASE_URL}/trending/movie/week?api_key=${API_KEY}`,\n  });\n  return resp;\n}\nfunction getFilmById(id) {\n  return axios({\n    method: 'GET',\n    url: `${BASE_URL}/movie/${id}?api_key=${API_KEY}`,\n  });\n}\nfunction getFilmsByQuery(query) {\n  return axios({\n    method: 'GET',\n    url: `${BASE_URL}/search/movie?api_key=${API_KEY}&query=` + query,\n  });\n}\nfunction getCastInfo(id) {\n  return axios.get(`${BASE_URL}/movie/${id}/credits?api_key=${API_KEY}`);\n}\nfunction getReviewsInfo(id) {\n  return axios.get(`${BASE_URL}/movie/${id}/reviews?api_key=${API_KEY}`);\n}\n\nexport {\n  getTrendingFilms,\n  getFilmById,\n  getFilmsByQuery,\n  getCastInfo,\n  getReviewsInfo,\n};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Reviews_container__2sL1h\",\"item\":\"Reviews_item__1QTAK\",\"box\":\"Reviews_box__E4gvS\",\"img\":\"Reviews_img__3Fl5F\",\"author\":\"Reviews_author__27ISI\",\"content\":\"Reviews_content__WETnt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"MoviesDetailPage_container__1IcfA\",\"button\":\"MoviesDetailPage_button__17Eo7\",\"content\":\"MoviesDetailPage_content__3LO13\",\"title\":\"MoviesDetailPage_title__9oH11\",\"img\":\"MoviesDetailPage_img__3XRbM\",\"overview\":\"MoviesDetailPage_overview__3dkfC\",\"more\":\"MoviesDetailPage_more__3sh74\",\"item\":\"MoviesDetailPage_item__AUIrK\",\"t\":\"MoviesDetailPage_t__IzZXx\"};","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","import arrayWithHoles from \"@babel/runtime/helpers/esm/arrayWithHoles\";\nimport iterableToArrayLimit from \"@babel/runtime/helpers/esm/iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableRest from \"@babel/runtime/helpers/esm/nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","import arrayLikeToArray from \"@babel/runtime/helpers/esm/arrayLikeToArray\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","\nimport { useEffect,useState } from \"react\";\nimport { useHistory } from \"react-router-dom\"\n\nimport { getReviewsInfo } from \"../services/fetchApi\";\n\nimport styles from '../styles/module/Reviews.module.css'\n\n\nconst Reviews = () => {\n\n   const imgUrl=\"https://image.tmdb.org/t/p/w500/\"\n\n    const history = useHistory();\n    const [reviews, setReviews] = useState([]);\n\n    useEffect(() => {\n        getReviewsInfo(history.location.state.id).then((resp) =>\n            setReviews(resp.data.results)\n        );\n    }, [history.location.state.id])\n\n    const mapReviews = reviews.map(({ id, author, content, author_details }) =>\n    {\n        const img = author_details.avatar_path.includes('http') ?\n            author_details.avatar_path.slice(1, author_details.avatar_path.length - 1) :\n            imgUrl + author_details.avatar_path;\n                \n return (  <li className={styles.item} key={id}>\n            <div className={styles.box}>\n                         <img className={styles.img} src={img} alt={author} />\n                <h4 className={styles.author}>{author}</h4>\n       \n            </div>\n        <p className={styles.content}>{content}</p>\n\n    </li>)\n})\n    \n    const noReviews = <li>Not found any reviews</li>\n    \n    return (\n        <div className={styles.container}>\n            <h3 className={styles.title}>Reviews</h3>\n            <ul className ={styles.reviews}>\n                {reviews.length>0 ? mapReviews:noReviews}\n                \n            </ul>\n        </div>\n    )\n}\nexport default Reviews","import { useEffect,useState } from \"react\";\nimport { useHistory } from \"react-router-dom\"\n\nimport { getCastInfo } from \"../services/fetchApi\";\n\nimport styles from '../styles/module/Cast.module.css'\n\nconst Cast = () => {\n\n    const imgUrl = \"https://image.tmdb.org/t/p/w500/\"\n    const defaultAvatat='https://miro.medium.com/max/720/1*W35QUSvGpcLuxPo3SRTH4w.png'\n\n    const history = useHistory();\n\n    const [cast, setCast] = useState([]);\n    useEffect(() => {\n        getCastInfo(history.location.state.id).then((resp) =>\n            setCast(resp.data.cast)\n        );\n    },[history.location.state.id])\n\n    const mapCast = cast.map(({ id, name, profile_path }) => {\n        const img = profile_path !== null ? imgUrl + profile_path :\n            defaultAvatat\n        return (\n            <li className={styles.item} key={id}>\n   \n                <img className={styles.img} src={img} alt={name} />\n                     <h4 className={styles.name}>{name}</h4>\n            </li>)\n    })\n    const noCast = <li>Not found any cast</li>\n    \n    return (\n        <div>\n            <h3 className={styles.title}>Cast</h3>\n            <ul className={styles.list}>\n                {cast.length>0 ? mapCast:noCast}\n                \n            </ul>\n        </div>\n    )\n}\nexport default Cast","import { Component } from \"react\";\nimport { Route,Link } from \"react-router-dom\";\n\nimport { getFilmById } from '../services/fetchApi'\nimport Reviews from \"../components/Reviews\";\nimport Cast from \"../components/Cast\";\n\nimport routes from \"../routes\";\n\nimport styles from '../styles/module/MoviesDetailPage.module.css'\n\nclass MoviesDetailPage extends Component{\n\n    state = {\n    film:{}\n    }\n    \n    async componentDidMount() {\n\n        const { location } = this.props\n        const id = location.state.id\n\n        const response = await getFilmById(id)\n        \n        this.setState({film:response.data})\n\n     \n    }\n\n    handleGoBack = () => {\n         const { location,history } = this.props\n\n        history.push(location.state.from, { query:location.state.query})\n    }\n\n    render() {\n        const { film } = this.state\n       const {match,location} = this.props\n\n        const defaultPoster = \"https://media.comicbook.com/files/img/default-movie.png\"\n        const imgUrl=\"https://image.tmdb.org/t/p/w500/\"\n\n        return (\n            <div className={styles.container}>\n                <button className={styles.button} type='button' onClick={this.handleGoBack}><span>Go Back</span></button>\n                 <div  className={styles.content}>\n                        <h3 className={styles.title}>{film.title}</h3>\n         \n                    <img\n                        className={styles.img}\n                            src={film.poster_path !== undefined ? `${imgUrl}${film.poster_path}` : defaultPoster}\n                            alt={film.title}\n                            style={{\n                                width : '350px',\n                                heigth: \"250px\"\n                            }\n                        }\n                    />\n                    <p className={styles.overview}>{film.overview}</p>\n                 </div>\n\n                <ul className={styles.more}>\n                    <li className={styles.item}><Link className={styles.t} to={{\n                        pathname:`${match.url}${routes.cast}`,\n                        state: location.state\n                    }}><span>Cast</span></Link></li>\n                    <li className={styles.item}><Link className={styles.t} to={{\n                        pathname:`${match.url}${routes.reviews}`,\n                        state: location.state\n                    }}><span>Reviews</span></Link></li>\n                </ul>\n\n                <Route\n                    path={`${match.path}${routes.cast}`}\n                    component={Cast} />\n                <Route\n                    path={`${match.path}${routes.reviews}`}\n                    component={Reviews} />\n            </div>\n        )\n    }\n}\nexport default MoviesDetailPage"],"sourceRoot":""}
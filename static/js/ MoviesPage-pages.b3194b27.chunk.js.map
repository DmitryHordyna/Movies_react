{"version":3,"sources":["services/fetchApi.js","components/FilmList/FilmList.jsx","components/FilmList/FilmList.module.css","styles/module/MoviesPage.module.css","pages/MoviesPage.jsx"],"names":["API_KEY","BASE_URL","getTrendingFilms","a","axios","method","url","resp","getFilmById","id","getFilmsByQuery","query","getCastInfo","get","getReviewsInfo","FilmList","movies","history","className","styles","MovieList","map","title","poster_path","item","to","pathname","routes","state","from","location","src","alt","img","module","exports","MoviesPage","film","handleSubmit","e","preventDefault","responce","setState","data","results","handleChange","target","value","this","props","currentQuery","response","container","form","onSubmit","input","onChange","type","button","Component"],"mappings":"2TAEMA,EAAU,mCACVC,EAAW,+B,SAEFC,I,2EAAf,4BAAAC,EAAA,sEACqBC,IAAM,CACvBC,OAAQ,MACRC,IAAI,GAAD,OAAKL,EAAL,wCAA6CD,KAHpD,cACQO,EADR,yBAKSA,GALT,4C,sBAOA,SAASC,EAAYC,GACnB,OAAOL,IAAM,CACXC,OAAQ,MACRC,IAAI,GAAD,OAAKL,EAAL,kBAAuBQ,EAAvB,oBAAqCT,KAG5C,SAASU,EAAgBC,GACvB,OAAOP,IAAM,CACXC,OAAQ,MACRC,IAAK,UAAGL,EAAH,iCAAoCD,EAApC,WAAuDW,IAGhE,SAASC,EAAYH,GACnB,OAAOL,IAAMS,IAAN,UAAaZ,EAAb,kBAA+BQ,EAA/B,4BAAqDT,IAE9D,SAASc,EAAeL,GACtB,OAAOL,IAAMS,IAAN,UAAaZ,EAAb,kBAA+BQ,EAA/B,4BAAqDT,M,gCC5B9D,0CAkCee,IA5BE,SAAC,GAAgC,IAA9BC,EAA6B,EAA7BA,OAAQC,EAAqB,EAArBA,QAASN,EAAY,EAAZA,MAMjC,OACI,oBAAIO,UAAWC,IAAOC,UAAtB,SACKJ,EAAOK,KAAI,gBAAGZ,EAAH,EAAGA,GAAIa,EAAP,EAAOA,MAAMC,EAAb,EAAaA,YAAb,OAER,oBAAaL,UAAWC,IAAOK,KAA/B,SACI,eAAC,IAAD,CAASC,GAAI,CACTC,SAAS,GAAD,OAAKC,IAAOX,OAAZ,YAAsBP,GAC9BmB,MAAO,CAAEnB,KAAIoB,KAAMZ,EAAQa,SAASJ,SAAUf,UAFlD,UAII,oBAAIO,UAAWC,IAAOG,MAAtB,SAA8BA,IAC9B,qBACIS,IAAqB,OAAhBR,EAAA,UAdhB,oCAcgB,OAAmCA,GAf1C,0DAgBES,IAAKV,EACLJ,UAAWC,IAAOc,UATrBxB,U,mBCfzByB,EAAOC,QAAU,CAAC,UAAY,4BAA4B,KAAO,uBAAuB,MAAQ,wBAAwB,IAAM,wB,mBCA9HD,EAAOC,QAAU,CAAC,UAAY,8BAA8B,KAAO,yBAAyB,MAAQ,0BAA0B,OAAS,6B,mJCMjIC,E,4MACFR,MAAQ,CACJjB,MAAO,GACP0B,KAAM,I,EAmBVC,a,uCAAe,WAAMC,GAAN,iBAAApC,EAAA,6DACXoC,EAAEC,iBACM7B,EAAU,EAAKiB,MAAfjB,MAFG,SAIYD,YAAgBC,GAJ5B,OAIL8B,EAJK,OAKX,EAAKC,SAAS,CAAEL,KAAKI,EAASE,KAAKC,UALxB,2C,wDASfC,aAAe,SAACN,GAEhB,EAAKG,SAAS,CAAC/B,MAAM4B,EAAEO,OAAOC,S,8FAzB9B,gCAAA5C,EAAA,yDAG0B,QAFvB2B,EAAUkB,KAAKC,MAAfnB,UAEaF,MAHhB,uBAIasB,EAAepB,EAASF,MAAMjB,MAJ3C,SAK8BD,YAAgBwC,GAL9C,OAKaC,EALb,OAOOH,KAAKN,SAAS,CACVL,KAAMc,EAASR,KAAKC,QACpBjC,MAAOuC,IATlB,gD,0EA4BA,WACI,MAAwBF,KAAKpB,MAArBjB,EAAR,EAAQA,MAAO0B,EAAf,EAAeA,KACPpB,EAAY+B,KAAKC,MAAjBhC,QAER,OACI,sBAAKC,UAAWC,IAAOiC,UAAvB,UACI,uBAAMlC,UAAWC,IAAOkC,KACpBC,SAAUN,KAAKV,aADnB,UAEI,uBACIpB,UAAWC,IAAOoC,MAClBC,SAAUR,KAAKH,aACfY,KAAK,OACLV,MAAOpC,IACX,wBAAQO,UAAWC,IAAOuC,OAA1B,SAAkC,+CAGtC,cAAC,IAAD,CAAU1C,OAAQqB,EAAMpB,QAASA,EAASN,MAAOA,W,GApDxCgD,aAyDVvB","file":"static/js/ MoviesPage-pages.b3194b27.chunk.js","sourcesContent":["import axios from 'axios';\n\nconst API_KEY = '465ec2c2104ee0fc99609fab2f518357';\nconst BASE_URL = 'https://api.themoviedb.org/3';\n\nasync function getTrendingFilms() {\n  const resp = await axios({\n    method: 'GET',\n    url: `${BASE_URL}/trending/movie/week?api_key=${API_KEY}`,\n  });\n  return resp;\n}\nfunction getFilmById(id) {\n  return axios({\n    method: 'GET',\n    url: `${BASE_URL}/movie/${id}?api_key=${API_KEY}`,\n  });\n}\nfunction getFilmsByQuery(query) {\n  return axios({\n    method: 'GET',\n    url: `${BASE_URL}/search/movie?api_key=${API_KEY}&query=` + query,\n  });\n}\nfunction getCastInfo(id) {\n  return axios.get(`${BASE_URL}/movie/${id}/credits?api_key=${API_KEY}`);\n}\nfunction getReviewsInfo(id) {\n  return axios.get(`${BASE_URL}/movie/${id}/reviews?api_key=${API_KEY}`);\n}\n\nexport {\n  getTrendingFilms,\n  getFilmById,\n  getFilmsByQuery,\n  getCastInfo,\n  getReviewsInfo,\n};\n","import { NavLink } from \"react-router-dom\"\n\nimport routes from \"../../routes\"\n\nimport styles from './FilmList.module.css'\n\nconst FilmList = ({ movies, history, query }) => {\n    \n    const defaultPoster = \"https://media.comicbook.com/files/img/default-movie.png\"\n    const imgUrl=\"https://image.tmdb.org/t/p/w500/\"\n\n\n    return (\n        <ul className={styles.MovieList}>\n            {movies.map(({ id, title,poster_path }) =>\n                \n                <li key={id} className={styles.item}>\n                    <NavLink to={{\n                        pathname: `${routes.movies}/${id}`,\n                        state: { id, from: history.location.pathname, query }\n                    }}>\n                        <h3 className={styles.title}>{title}</h3>\n                        <img\n                            src={poster_path !== null ? `${imgUrl}${poster_path}` : defaultPoster}\n                            alt={title}\n                            className={styles.img}\n                        />\n                  \n                    </NavLink>\n                </li>\n            )}\n        </ul>\n    )\n}\nexport default FilmList","// extracted by mini-css-extract-plugin\nmodule.exports = {\"MovieList\":\"FilmList_MovieList__2Je8n\",\"item\":\"FilmList_item__3h3rb\",\"title\":\"FilmList_title__2DaiG\",\"img\":\"FilmList_img__WrFUz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"MoviesPage_container__2JyEW\",\"form\":\"MoviesPage_form__4O5Tw\",\"input\":\"MoviesPage_input__3Pkyn\",\"button\":\"MoviesPage_button__1hBgI\"};","import { Component } from \"react\";\n\nimport {getFilmsByQuery} from '../services/fetchApi'\nimport FilmList from \"../components/FilmList/FilmList\";\n\nimport styles from '../styles/module/MoviesPage.module.css'\n\nclass MoviesPage extends Component{\n    state = {\n        query: '',\n        film: [],\n        \n    }\n    \n\n    async componentDidMount() {\nconst {location}=this.props\n\n       if (location.state !== null) {\n           const currentQuery = location.state.query\n           const response = await getFilmsByQuery(currentQuery)\n           \n           this.setState({\n               film: response.data.results,\n               query: currentQuery\n           })\n        }\n    }\n\n    handleSubmit = async e => {\n        e.preventDefault()\n        const { query } = this.state\n        \n        const responce = await getFilmsByQuery(query)\n        this.setState({ film:responce.data.results})\n\n    }\n\n    handleChange = (e) => {\n\n    this.setState({query:e.target.value})\n    }\n\n    render() {\n        const { query, film } = this.state\n        const { history } = this.props\n        \n        return (\n            <div className={styles.container}>\n                <form className={styles.form}\n                    onSubmit={this.handleSubmit}>\n                    <input\n                        className={styles.input}\n                        onChange={this.handleChange}\n                        type='text'\n                        value={query}/>\n                    <button className={styles.button}><span>Search</span></button>\n                </form>\n                \n                <FilmList movies={film} history={history} query={query}/>\n            </div>)\n    }\n}\n\nexport default MoviesPage"],"sourceRoot":""}